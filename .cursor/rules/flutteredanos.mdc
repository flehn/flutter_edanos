---
description: 
alwaysApply: true
---

We work with flutter and firebase! 
- We use firebase_ai for gemini
- cloud_firestore for the databse
- firebase_auth for the user management

The correct set up for gemini is:
    _analysisModelEssential = FirebaseAI.vertexAI(location: 'europe-west1', appCheck: FirebaseAppCheck.instance).generativeModel(
      model: 'gemini-2.5-flash',
      generationConfig: GenerationConfig(
        responseMimeType: 'application/json',
        responseSchema: jsonSchema_essentialNutrition,
      ),
      systemInstruction: Content.text(_essentialPrompt),
    );


FirestoreService (lib/services/firestore_service.dart)
Collection Structure:

users/{userId}/
├── meals/{mealId}        - Individual scanned meals
├── quickAdd/{itemId}     - Favorite meals for quick re-adding
└── goals                 - User nutritional goals (embedded in user doc)

You have access to firebase configuration through tools.
